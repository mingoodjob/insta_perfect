<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='page_main.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="{{ url_for('static', filename='script_main.js') }}"> </script>
    <script src="https://kit.fontawesome.com/0e01622099.js" crossorigin="anonymous"></script>
    <title>인스타그램 클론코딩</title>
</head>

<!-- 상단 메뉴바 -->

<header>
    <div class="top_menu_bar">
        <div class="page_logo">
            <img src="https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png">
        </div>

        <!-- 검색창 -->
        <div class="serch_box">
            <div><i class="fa-solid fa-magnifying-glass"></i></div>
            <input type="text" placeholder="검색" class="serch_text">
        </div>
        <!--  -->

        <!-- 우측 아이콘 -->
        <div class="right_menu_icons">
            <a href="/">
                <div><svg color="#262626" fill="#262626" height="24" role="img" viewBox="0 0 24 24" width="24">
                        <path
                            d="M22 23h-6.001a1 1 0 01-1-1v-5.455a2.997 2.997 0 10-5.993 0V22a1 1 0 01-1 1H2a1 1 0 01-1-1V11.543a1.002 1.002 0 01.31-.724l10-9.543a1.001 1.001 0 011.38 0l10 9.543a1.002 1.002 0 01.31.724V22a1 1 0 01-1 1z">
                        </path>
                    </svg></div>
            </a> <!-- 홈버튼 -->
            <div> <svg class="icon_nav" color="#262626" fill="#262626" height="24" role="img" viewBox="0 0 24 24"
                    width="24">
                    <line fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2" x1="22" x2="9.218"
                        y1="3" y2="10.083"></line>
                    <polygon fill="none" points="11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334"
                        stroke="currentColor" stroke-linejoin="round" stroke-width="2"></polygon>
                </svg></div> <!-- DM -->
            <div onclick="feed_upload()"> <svg class="icon_nav" id="button_post" color="#262626" fill="#262626"
                    height="24" role="img" viewBox="0 0 24 24" width="24">
                    <path
                        d="M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552z"
                        fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                        stroke-width="2"></path>
                    <line fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                        stroke-width="2" x1="6.545" x2="17.455" y1="12.001" y2="12.001"></line>
                    <line fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                        stroke-width="2" x1="12.003" x2="12.003" y1="6.545" y2="17.455"></line>
                </svg></div> <!-- 게시물 등록 -->
            <div> <svg class="icon_nav" color="#262626" fill="#262626" height="24" role="img" viewBox="0 0 24 24"
                    width="24">
                    <polygon fill="none" points="13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953"
                        stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></polygon>
                    <polygon fill-rule="evenodd" points="10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056">
                    </polygon>
                    <circle cx="12.001" cy="12.005" fill="none" r="10.5" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2"></circle>
                </svg></div> <!-- 나침판 -->
            <div> <svg class="icon_nav" color="#262626" fill="#262626" height="24" role="img" viewBox="0 0 24 24"
                    width="24">
                    <path
                        d="M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z">
                    </path>
                </svg></div> <!-- 하트 -->
            <div class="menu_pr_photo">
                <img src="{{pr_photo}}" alt="" srcset="">
            </div> <!-- 프로필 사진 -->
        </div>
        <!--  -->
    </div>
</header>
<!-- 상단 메뉴바 종료 -->



<body>
    <!-- 프로필 편집 -->
    <form id="pr_edit" action="/pr_edit" method="POST">
        <div class="profile_edit">
            <div class="edit_pr">
                <div style="font-weight: bold; font-size:20px; margin-bottom: 10px;">프로필 편집</div>
                <input type="text" name="hobby" id="hobby" placeholder="취미">
                <input type="text" name="description" id="description" placeholder="남기는말">
                <input style="display: none" type="text" name="uid" id="uid" value="{{username}}" placeholder="남기는말">
                <div class="buttons">
                    <button type="submit">확인</button>
                    <button type="button" onclick="pr_close()">취소</button>
                </div>
            </div>
        </div>
    </form>
    <!--  -->

    <!-- 프로필 사진 변경     -->
    <div style="display:none">
        <form action="/pr_upload" method="POST" enctype="multipart/form-data"><input id="pr_upload" type="file"
                name="file"></form>
    </div>
    <!--  -->

    <!-- 사진 등록 모달창 띄우기 -->
    <div class="modal_body">
        <div class="modal_box">
            <div class="modal_title">
                <div class="first_title">새 게시물 만들기</div>
                <div class="second_title">
                    <div onclick="cancel()" style="color: red; cursor: pointer;">취소</div>
                    <!-- 이미지 파일과 내용 컨텐츠를 가져오는 from action 서버에서 request 로 받는다 -->
                    <form action="/upload" method="post" enctype="multipart/form-data">
                        <input id="photo_upload" type="file" name="file" style="display: none">
                        <button type="submit">다음</button>
                </div>
            </div>
            <div onclick="photo_upload()" class="photo_upload"><button type="button">컴퓨터에서 선택</button></div>
            <div class="img_box">
                <div class="photo_img">

                    <img src="" id="preview">
                </div>
                <div class="content_input">
                    <textarea id="content" name="content" placeholder="문구 입력...."></textarea>
                </div>
            </div>
        </div>
    </div>
    </form>
    <!-- 모달창 코드 종료  -->

    <!-- 피드 상세 정보 모달 -->
    <div class="feed_info_modal">
        <div class="feed_info_content">
            <div class="feed_info_photo">
                <img src="{{ url_for('static', filename='img_upload/{}'.format('1.jpg')) }}" alt="" srcset=""
                    id="photo">
            </div>

            <div class="feed_info_desc">
                <!-- 피드 모달 상단 어카운트 내용 -->
                <div class="feed_info_account">
                    <div id="feed_pr_photo" class="feed_pr_photo">
                        <img src="../static/img_upload/1.jpg" alt="" srcset="">
                    </div>

                    <div id="feed_account" class="feed_account">
                        {{username}}
                    </div>

                    <div class="feed_top_menu">
                        <i class="fa-solid fa-ellipsis"></i>
                    </div>
                </div>
                <!--  -->

                <div id="comment_list" class="comment_list">
                    <div id="comment_desc_box" class="comment_desc_box">
                        <div class="comment_pr_photo">
                            <img src="../static/img_upload/1.jpg" alt="" srcset="">
                        </div>
                        <div id="comment_desc" class="comment_desc">
                            <p><b>{{username}}</b> 안녕하세요 좋은하루 되시기 바랍니다.안녕하세요 좋은하루 되시기 바랍니다.안녕하세요 좋은하루 되시기 바랍니다.안녕하세요
                                좋은하루 되시기 바랍니다.안녕하세요 좋은하루 되시기 바랍니다.안녕하세요 좋은하루 되시기 바랍니다.안녕하세요 좋은하루 되시기 바랍니다.안녕하세요 좋은하루 되시기
                                바랍니다.</p>
                        </div>
                        <div class="comment_like">
                            <div>
                                <i class="fa-regular fa-heart"></i>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- 피드 모달 하트 아이콘 -->
                <div id="like_info" class="like_info">
                    <div class="like_button">
                        <div class="like_click_buttons">
                            <div id="like_click_on">
                                <div class="like_click_on" onclick="heart_click()" style="cursor: pointer;"><svg
                                        color="#ed4956" fill="#ed4956" height="24" role="img" viewBox="0 0 48 48"
                                        width="24">
                                        <path d="M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12
                                10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2
                                7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z">
                                        </path>
                                    </svg></div>
                            </div>
                            <div id="like_click_off">
                                <div onclick="heart_click()" class="like_click_off" style="cursor: pointer;"><svg
                                        style="width: 24px; height: 24px">
                                        <path
                                            d="M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865
                                3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0
                                014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0
                                013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0
                                3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174
                                0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z">
                                        </path>
                                    </svg></div>
                            </div>
                            <div><svg style="width: 24px; height: 24px">
                                    <path d="M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z" fill="none"
                                        stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path>
                                </svg></div>
                            <div><svg style="width: 24px; height: 24px">
                                    <line fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"
                                        x1="22" x2="9.218" y1="3" y2="10.083"></line>
                                    <polygon fill="none"
                                        points="11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334"
                                        stroke="currentColor" stroke-linejoin="round" stroke-width="2"></polygon>
                                </svg></i></div>
                        </div>
                        <div class="save_button">
                            <div><svg style="width: 24px; height: 24px">
                                    <polygon fill="none" points="20 21 12 13.44 4 21 4 3 20 3 20 21"
                                        stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                        stroke-width="2"></polygon>
                                </svg> </div>
                        </div>
                    </div>
                    <div class="like_count">
                        좋아요 <span id="like_count">800</span>개
                    </div>
                    <div class="write_time">
                        7일전
                    </div>
                </div>

                <div class="comment_write">
                    <div class="comment_icon">
                        <i class="fa-regular fa-face-smile"></i>
                    </div>
                    <div class="comment_input">
                        <input id="comment_text" type="text" placeholder="댓글 입력....">
                    </div>
                    <div class="comment_submit">
                        게시
                    </div>
                </div>

            </div>


        </div>
    </div>
    <!-- ****피드 상세 정보 모달 end**** -->

    <!-- 프로필 info -->
    <div class="content_box">
        <div class="profiles">
            <div class="pr_photo_box">
                <!-- 프로필 이미지 박스 올린 이미지중 가장 최근게 올라감 -->
                <div onclick="pr_upload()" class="pr_photo">
                    <img src="{{user_photo}}" alt="" srcset="">
                </div>
            </div>

            <div class="pr_info">
                <div class="pr_account">
                    <div id="userid" style="font-size:24px; color: #262626;">{{username}}</div>
                    {% if username == userid %}
                    <div class="pr_edit"><button onclick="pr_edit()" type="button">프로필 편집</button></div>
                    <div style="font-size: 25px;"><i class="fa-solid fa-gear fa-lg"></i></div>
                    {% endif %}
                </div>
                <div class="follow_info">
                    <div>
                        게시물 <span style="font-weight: bold;">{{write_count}}</span>
                    </div>
                    <div>
                        팔로워 <span style="font-weight: bold;">0</span>
                    </div>
                    <div>
                        팔로잉 <span style="font-weight: bold;">0</span>
                    </div>
                </div>
                <div>
                    <div style="font-weight: bold;">{{name}}</div>
                    <div style="color: #8e8e8e;">{{hobby}}</div>
                    <div>{{profile_desc}}</div>
                </div>
            </div>
        </div>
        <!--  -->
        <!-- 피드 리스트 출력 -->
        <div class="feed_box">
            <div class="tab_menu_list">
                <div><i class="fa-solid fa-table-cells"></i> 게시물</div>
                <div><i class="fa-regular fa-circle-play"></i> 동영상</div>
                <div><i class="fa-regular fa-bookmark"></i> 저장됨</div>
                <div><i class="fa-solid fa-user-large"></i> 태그됨</div>
            </div>
            <div class="feed">
                {% for feeds in all_feed %}

                <div id="photo_box" onclick="display_popup.bind(this)()" class="photo_box" value="{{feeds.feed_number}}"
                    data-id="{{feeds.feed_number}}">

                    <div style="font-weight: bold;" class="info_feed">
                        <div><i class="fa-solid fa-heart"></i>{{feeds.like_count}}개</div>
                        <div><i class="fa-solid fa-comment"></i>{{feeds.like_count}}개</div>
                    </div>

                    <img src="../static/img_upload/{{feeds.photo}}" class="img_photo">
                </div>

                {% endfor %}
                <div>{{ content }}</div>
            </div>
        </div>
        <!--  -->

    </div>
</body>


</html>